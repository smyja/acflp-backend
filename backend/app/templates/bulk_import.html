{% extends "layout.html" %}
{% block content %}
  <h2>Bulk Task Import</h2>
  {% if error_message %}<div class="alert alert-danger">{{ error_message }}</div>{% endif %}
  {% if success_message %}<div class="alert alert-success">{{ success_message }}</div>{% endif %}

  <form method="post" enctype="multipart/form-data">
    <div class="mb-3">
      <label class="form-label">JSONL or JSON file</label>
      <input class="form-control" type="file" name="jsonl_file" accept=".jsonl,.json,application/x-ndjson" required>
    </div>
    <div class="mb-3">
      <label class="form-label">Default reward amount</label>
      <input class="form-control" type="number" step="0.01" name="default_reward_amount" placeholder="eg 0.50">
    </div>
    <button class="btn btn-success" type="submit">Import</button>
  </form>

  {% if import_results %}
    <hr>
    <pre>{{ import_results | tojson(indent=2) }}</pre>
  {% endif %}
{% endblock %}
